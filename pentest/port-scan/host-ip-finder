#!/usr/bin/env python3

import requests
import argparse

def find_web_ip(domain_name):
    url = f"https://api.ipify.org?format=json&hostname={domain_name}"
    response = requests.get(url)
    data = response.json()
    return data["ip"]

# Create an ArgumentParser object
parser = argparse.ArgumentParser()

# Define the command-line arguments
parser.add_argument("--domain", "-d", metavar="--d", help="Domain name (e.g., www.example.com)")

# Parse the command-line arguments
args = parser.parse_args()

# Retrieve the argument value
domain_name = args.domain

# Check if the required argument is missing
if not domain_name:
    parser.print_usage()
    exit(1)

print(f"The IP address of {domain_name} is: ")
print(find_web_ip(domain_name))
